(function(){function a(a){return a.replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1")}function b(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function c(a){var b=document.createElement("div");return b.appendChild(document.createTextNode(a)),b.innerHTML}function d(a){return a.replace(/^\s+|\s+$/g,"")}function e(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function f(a){return a?a.replace(/\n+/g,"<br>"):a}function g(a){return a.replace(/\n/g,"").replace(/<br>/g,"\n")}function h(a){return a.replace(/\n/g,"<br>")}function i(a){return a.replace(/<br>/g,"\n")}function j(a,b){return a.replace(/:([a-z0-9\+\-_]+):/g,function(a,c){return k.shortnames&&k.shortnames.hasOwnProperty(a)?a:k.emojiNames.hasOwnProperty(c)?(b.wrapNative?k.unicodeToHtml(k.emojiNames[c]):k.emojiNames[c]):a})}function l(a,b){return a.replace(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/g,function(a){return k.unicodeToHtml(a,b.wrapNative)})}var k={};k.shortnames={},k.emojiNames={},k.asciiList=[],k.unicodeToHtml=function(a,c){var d=a.codePointAt(0).toString(16),e="";if(a.length>1){var f=a.codePointAt(1).toString(16);e="-"+f}var g="emoji-"+d+e;return c?'<span class="emoji '+g+'">'+a+"</span>":a},k.convert=function(a,b){var c={wrapNative:!1};b&&(c=e(c,b)),a=j(a,c),a=l(a,c);for(var d=0;d<k.asciiList.length;d++){var g=k.asciiList[d],i=g.pattern;i=new RegExp(i,"g"),a=a.replace(i,function(a){return k.unicodeToHtml(g.emoji,c.wrapNative)})}return a},window.emoji=k})();
