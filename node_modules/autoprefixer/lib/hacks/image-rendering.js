let Declaration = require('../declaration')

class ImageRendering extends Declaration {
  
  check(decl) {
    return decl.value === 'pixelated'
  }


  normalize() {
    return 'image-rendering'
  }

  
  prefixed(prop, prefix) {
    if (prefix === '-ms-') {
      return '-ms-interpolation-mode'
    }
    return super.prefixed(prop, prefix)
  }


  process(node, result) {
    return super.process(node, result)
  }

  
  set(decl, prefix) {
    if (prefix !== '-ms-') return super.set(decl, prefix)
    decl.prop = '-ms-interpolation-mode'
    decl.value = 'nearest-neighbor'
    return decl
  }
}

ImageRendering.names = ['image-rendering', 'interpolation-mode']

module.exports = ImageRendering
